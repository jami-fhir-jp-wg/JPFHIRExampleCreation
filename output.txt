FHIR Validation tool Version 5.6.80 (Git# 3ab720a6af40). Built 2022-11-22T14:29:01.401Z (12 days old)
  Java:   11.0.10 from /Library/Java/JavaVirtualMachines/jdk-11.0.10+9/Contents/Home on x86_64 (64bit). 30688MB available
  Paths:  Current = /Users/kohe/GitHub, Package Cache = /Users/kohe/.fhir/packages
  Params: JPFHIRExampleCreation/output-json/fsh-generated/resources/Bundle-bundleReferralExample01.json -ig JPFHIRExampleCreation/packages_snapshot/jp-ereferral#0.9.2-snap.tgz -tx https://tx.jpfhir.jp:8081
Scanning for versions (no -version parameter):
  Package JPFHIRExampleCreation/packages_snapshot/jp-ereferral#0.9.2-snap.tgz: 4.0
-> use version 4.0
  Jurisdiction: Japan
Loading
  Load FHIR v4.0 from hl7.fhir.r4.core#4.0.1.: - 4576 resources (00:03.626)
  Load hl7.terminology#4.0.0 - 4164 resources (00:02.596)
  Load R5 Extensions - 56 resources (00:02.545)
  Terminology server https://tx.jpfhir.jp:8081 - Version null (00:00.532)
  Load JPFHIRExampleCreation/packages_snapshot/jp-ereferral#0.9.2-snap.tgz - 72 resources (00:00.855)
  Package Summary: [hl7.fhir.r4.core#4.0.1, hl7.fhir.xver-extensions#0.0.11, hl7.terminology#4.0.0]
  Get set...  go (00:00.003)
Validating
  Validate JPFHIRExampleCreation/output-json/fsh-generated/resources/Bundle-bundleReferralExample01.json
Validate Bundle against http://hl7.org/fhir/StructureDefinition/Bundle|4.0.1  Load jp-ereferral..  Load jp-core.r4#1.1.1-rc - 198 resources (00:01.348)
........20..........40..Validate Practitioner against http://hl7.org/fhir/StructureDefinition/Practitioner|4.0.1|
Validate Practitioner against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner|
Validate Practitioner against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eClinicalSummary|
Validate Organization against http://hl7.org/fhir/StructureDefinition/Organization|4.0.1|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
Validate Practitioner against http://hl7.org/fhir/StructureDefinition/Practitioner|4.0.1|
Validate Practitioner against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner|
Validate Practitioner against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eClinicalSummary|
Validate Organization against http://hl7.org/fhir/StructureDefinition/Organization|4.0.1|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
Validate Practitioner against http://hl7.org/fhir/StructureDefinition/Practitioner|4.0.1|
Validate Practitioner against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner|
Validate Practitioner against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eClinicalSummary|
Validate Organization against http://hl7.org/fhir/StructureDefinition/Organization|4.0.1|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
...Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1..........20..........40..........60..........80.........|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer..........20..........40..........60..........80..........100|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1..........20..........40..........60..........80.........|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1|
Validate Practitioner against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner|1.1.1..........20..........40..........60..........80.........|
Validate Practitioner against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eClinicalSummary..........20..........40..........60..........80..........100..|
..Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1..........20..........40..........60..........80.........|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1|
Validate Organization against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_issuer|
Validate Organization against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Organization|1.1.1|
Validate Practitioner against http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner|1.1.1|
Validate Practitioner against http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eClinicalSummary|
...60..........80..........100..........120......|
 00:02.988
Done. Times: Loading: 00:10.962, validation: 00:04.336. Memory = 776Mb

*FAILURE*: 16 errors, 7 warnings, 7 notes
  Error @ Bundle.entry[0].resource.ofType(Composition).author[0].reference (line 70, col74): Value is 'urn:uuid:78dc5b01-58c2-4b64-8db0-c4bda37bc1f4' but must be 'JP_Practitioner_eClinicalSummary'
  Error @ Bundle.entry[0].resource.ofType(Composition).author[1].reference (line 75, col74): Value is 'urn:uuid:64e7c9b4-1ee8-49b9-933b-0780d6834132' but must be 'JP_Practitioner_eClinicalSummary'
  Error @ Bundle.entry[0].resource.ofType(Composition).custodian.reference (line 82, col72): Value is 'urn:uuid:64e7c9b4-1ee8-49b9-933b-0780d6834132' but must be 'JP_Organization_eClinicalSummary'
  Error @ Bundle.entry[0].resource.ofType(Composition).author[0] (line 69, col12): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - authorPractitioner, authorDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition).author[0] (line 69, col12): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - authorPractitioner, authorOrganization
  Error @ Bundle.entry[0].resource.ofType(Composition).author[1] (line 74, col12): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - authorPractitioner, authorDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition).author[1] (line 74, col12): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - authorPractitioner, authorOrganization
  Error @ Bundle.entry[0].resource.ofType(Composition).section[0].entry[0] (line 115, col16): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - referralToOrganizaiton, referralToDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition).section[0].entry[1] (line 120, col16): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - referralToOrganizaiton, referralToDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition).section[1].entry[0] (line 148, col16): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - referralFromOrganizaiton, referralFromDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition).section[1].entry[1] (line 153, col16): Profile http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1, Element matches more than one slice - referralFromOrganizaiton, referralFromDepartment
  Error @ Bundle.entry[0].resource.ofType(Composition) (line 81, col23): Composition.author:authorOrganization: minimum required = 1, but only found 0 (from http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1)
  Error @ Bundle.entry[0].resource.ofType(Composition) (line 81, col23): Composition.author:authorPractitioner: max allowed = 1, but found 2 (from http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1)
  Error @ Bundle.entry[0].resource.ofType(Composition).section[0] (line 99, col12): Composition.section:referralToSection.entry:referralToOrganizaiton: max allowed = 1, but found 2 (from http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1)
  Error @ Bundle.entry[0].resource.ofType(Composition).section[1] (line 132, col12): Composition.section:referralFromSection.entry:referralFromOrganizaiton: max allowed = 1, but found 2 (from http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1)
  Error @ Bundle.entry[0].resource.ofType(Composition) (line 81, col23): Problem processing expression '((section.code.coding.where(code = '200')).exists()) xor (section.code.coding.where(code = '300')).exists())' in profile 'http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Composition_eReferral|0.9.1' at path 'Bundle.entry[0].resource.ofType(Composition)': Error @1, 7: Premature ExpressionNode termination at unexpected token ")"
  Information @ Bundle.entry[0].resource.ofType(Composition).type (line 38, col22): None of the codings provided are in the value set 'FHIR Document Type Codes' (http://hl7.org/fhir/ValueSet/doc-typecodes|4.0.1), and a coding is recommended to come from this value set) (codes = http://jpfhir.jp/fhir/Common/CodeSystem/doc-typecodes#57133-1)
  Information @ Bundle.meta.profile[0] (line 7, col6): Canonical URL 'http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Bundle_eReferral' does not resolve
  Information @ Bundle.entry[7].resource.ofType(Organization).meta.profile[1] (line 719, col12): Canonical URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' does not resolve
  Information @ Bundle.entry[7].resource.meta.profile[1] (line 719, col12): Canonical URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' does not resolve
  Information @ Bundle.entry[8].resource.ofType(Organization).meta.profile[1] (line 754, col12): Canonical URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' does not resolve
  Information @ Bundle.entry[8].resource.meta.profile[1] (line 754, col12): Canonical URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' does not resolve
  Information @ Bundle.entry[18].resource.ofType(DocumentReference).type.coding[0] (line 1197, col14): Code System URI 'http://loinc.org' is unknown so the code cannot be validated
  Warning @ Bundle.entry[2].resource.ofType(Encounter).class (line 474, col72): Display Name for http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB should be one of 1 choices from 'ambulatory', not '外来' for 'http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB'
  Warning @ Bundle.entry[2].resource.ofType(Encounter).classHistory[0].class (line 481, col76): Display Name for http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB should be one of 1 choices from 'ambulatory', not '外来' for 'http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB'
  Warning @ Bundle.entry[9].resource.ofType(Encounter).class (line 799, col72): Display Name for http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB should be one of 1 choices from 'ambulatory', not '外来' for 'http://terminology.hl7.org/CodeSystem/v3-ActCode#AMB'
  Warning @ Bundle.entry[17].resource.ofType(Observation).category[0] (line 1164, col12): Display Name for http://terminology.hl7.org/CodeSystem/observation-category#exam should be one of 1 choices from 'Exam', not '身体検査・観察'
  Warning @ Bundle.meta.profile[0] (line 1, col2): Profile reference 'http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Bundle_eReferral' has not been checked because it is unknown, and fetching it resulted in the error The URL 'http://jpfhir.jp/fhir/eReferral/StructureDefinition/JP_Bundle_eReferral' is not known to the FHIR validator, and has not been provided as part of the setup / parameters
  Warning @ Bundle.entry[7].resource.ofType(Organization).meta.profile[1] (line 740, col20): Profile reference 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' has not been checked because it is unknown, and fetching it resulted in the error The URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' is not known to the FHIR validator, and has not been provided as part of the setup / parameters
  Warning @ Bundle.entry[8].resource.ofType(Organization).meta.profile[1] (line 775, col20): Profile reference 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' has not been checked because it is unknown, and fetching it resulted in the error The URL 'http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Organization_eClinicalSummary_departmentOfIssuer' is not known to the FHIR validator, and has not been provided as part of the setup / parameters
